{"version":3,"sources":["D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/auth-routing.module.ts","D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/auth.module.ts","D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/auth.service.ts","D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/signin/signin.component.css","D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/signin/signin.component.html","D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/signin/signin.component.ts"],"names":[],"mappings":"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","file":"auth.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SigninComponent } from './signin/signin.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: 'signin', component: SigninComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AuthRoutingModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/auth-routing.module.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { SigninComponent } from './signin/signin.component';\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { AuthService } from './auth.service';\nimport { HttpModule } from '@angular/http';\nimport { SharedModule } from '../shared/shared.module';\nimport { AlertComponent } from '../shared/alert/alert.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    AuthRoutingModule,\n    FormsModule,\n    SharedModule\n  ],\n  declarations: [SigninComponent],\n  providers: [\n    AuthService,\n  ]\n})\nexport class AuthModule { }\n\n\n\n// WEBPACK FOOTER //\n// D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/auth.module.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/catch';\nimport { HttpApi } from '../../x/http';\nimport { User, LoginInfor } from '../shared/models/user.model';\n\n@Injectable()\nexport class AuthService {\n  constructor(private httpApi: HttpApi<User>) { }\n  checkSuperAdmin() {\n    return this.httpApi.Get('admin/super_admin');\n  }\n  registerSuperAdmin(loginInfor: any) {\n    loginInfor.role = 'super-admin';\n    return this.httpApi.Post('admin/register', loginInfor);\n  }\n  login(loginInfor: LoginInfor) {\n    loginInfor.role = 'admin';\n    return this.httpApi.Post('admin/signin', loginInfor);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/auth.service.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Vibur);\", \"\"]);\n\n// module\nexports.push([module.id, \"* {\\r\\n  box-sizing: border-box;\\r\\n  -moz-box-sizing: border-box;\\r\\n  -webkit-box-sizing: border-box;\\r\\n  font-family: arial;\\r\\n}\\r\\n\\r\\n#wrapper {\\r\\n  background: #FF9000;\\r\\n  height: 100vh;\\r\\n}\\r\\n\\r\\nh1 {\\r\\n  color: #ccc;\\r\\n  text-align: center;\\r\\n  font-family: 'Vibur', cursive;\\r\\n  font-size: 50px;\\r\\n}\\r\\n\\r\\n.login-form {\\r\\n  width: 350px;\\r\\n  padding: 40px 30px;\\r\\n  background: #eee;\\r\\n  border-radius: 4px;\\r\\n  margin: auto;\\r\\n  position: absolute;\\r\\n  left: 0;\\r\\n  right: 0;\\r\\n  top: 50%;\\r\\n  -webkit-transform: translateY(-50%);\\r\\n  transform: translateY(-50%);\\r\\n}\\r\\n\\r\\n.form-group {\\r\\n  position: relative;\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n\\r\\n.form-control {\\r\\n  width: 100%;\\r\\n  height: 50px;\\r\\n  border: none;\\r\\n  padding: 5px 7px 5px 15px;\\r\\n  background: #fff;\\r\\n  color: #666;\\r\\n  border: 2px solid #ddd;\\r\\n  border-radius: 4px;\\r\\n}\\r\\n.form-control:focus, .form-control:focus + .fa {\\r\\n  border-color: #10CE88;\\r\\n  color: #10CE88;\\r\\n}\\r\\n\\r\\n.form-group .fa {\\r\\n  position: absolute;\\r\\n  right: 15px;\\r\\n  top: 17px;\\r\\n  color: #999;\\r\\n}\\r\\n\\r\\n.log-status.wrong-entry {\\r\\n  -webkit-animation: wrong-log 0.3s;\\r\\n  animation: wrong-log 0.3s;\\r\\n}\\r\\n\\r\\n.log-status.wrong-entry .form-control, .wrong-entry .form-control + .fa {\\r\\n  border-color: #ed1c24;\\r\\n  color: #ed1c24;\\r\\n}\\r\\n\\r\\n.log-btn {\\r\\n  background: #0AC986;\\r\\n  dispaly: inline-block;\\r\\n  width: 100%;\\r\\n  font-size: 16px;\\r\\n  height: 50px;\\r\\n  color: #fff;\\r\\n  text-decoration: none;\\r\\n  border: none;\\r\\n  border-radius: 4px;\\r\\n}\\r\\n\\r\\n.link {\\r\\n  text-decoration: none;\\r\\n  color: #C6C6C6;\\r\\n  float: right;\\r\\n  font-size: 12px;\\r\\n  margin-bottom: 15px;\\r\\n}\\r\\n.link:hover {\\r\\n  text-decoration: underline;\\r\\n  color: #8C918F;\\r\\n}\\r\\n\\r\\n.alert {\\r\\n  display: none;\\r\\n  font-size: 12px;\\r\\n  color: #f00;\\r\\n  float: left;\\r\\n}\\r\\n@-webkit-keyframes wrong-log {\\r\\n  0%, 100% {\\r\\n    left: 0px;\\r\\n  }\\r\\n  20% , 60% {\\r\\n    left: 15px;\\r\\n  }\\r\\n  40% , 80% {\\r\\n    left: -15px;\\r\\n  }\\r\\n}\\r\\n@keyframes wrong-log {\\r\\n  0%, 100% {\\r\\n    left: 0px;\\r\\n  }\\r\\n  20% , 60% {\\r\\n    left: 15px;\\r\\n  }\\r\\n  40% , 80% {\\r\\n    left: -15px;\\r\\n  }\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/signin/signin.component.css\n// module id = ../../../../../src/app/auth/signin/signin.component.css\n// module chunks = auth.module","module.exports = \"<link rel='stylesheet prefetch' href='http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css'>\\n<div id=\\\"wrapper\\\">\\n  <div class=\\\"login-form\\\">\\n    <form (ngSubmit)=\\\"onSignin(f)\\\" #f=\\\"ngForm\\\">\\n      <h1>Ehelp</h1>\\n      <div class=\\\"form-group\\\" *ngIf=\\\"isRegister\\\">\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Nhập tên\\\" id=\\\"UserName\\\" ngModel name=\\\"name\\\">\\n        <i class=\\\"fa fa-user\\\"></i>\\n      </div>\\n      <div class=\\\"form-group \\\">\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Nhập tên đăng nhập \\\" id=\\\"UserName\\\" ngModel name=\\\"uname\\\">\\n        <i class=\\\"fa fa-user\\\"></i>\\n      </div>\\n      <div class=\\\"form-group log-status\\\">\\n        <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Nhập mật khẩu\\\" id=\\\"Passwod\\\" ngModel name=\\\"password\\\">\\n        <i class=\\\"fa fa-lock\\\"></i>\\n      </div>\\n\\n      <span class=\\\"alert\\\">Sai thông tin đăng nhập</span>\\n      <button type=\\\"submit\\\" class=\\\"log-btn\\\">{{isRegister?\\\"Đăng kí\\\":\\\"Đăng nhập\\\"}}</button>\\n    </form>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/signin/signin.component.html\n// module id = ../../../../../src/app/auth/signin/signin.component.html\n// module chunks = auth.module","import { AlertService } from '../../shared/alert.service';\nimport { Component, ComponentFactoryResolver, Injector, OnInit, ViewContainerRef } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { LoginInfor } from '../../shared/models/user.model';\nimport { AuthService } from '../auth.service';\nimport { StorageFactory, SESSION } from '../../../x/storage';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { BaseComponent } from '../../shared/base.component';\nimport { Message } from 'primeng/components/common/api';\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.component.html',\n  styleUrls: ['./signin.component.css'],\n})\nexport class SigninComponent implements OnInit {\n  sessionStorage = StorageFactory.getStorage(SESSION);\n  isRegister = false;\n  constructor(\n    private authService: AuthService,\n    private alertService: AlertService,\n    private router: Router,\n    private activedRoute: ActivatedRoute\n  ) {\n  }\n\n  ngOnInit() {\n    this.authService.checkSuperAdmin().subscribe((res) => {\n      this.isRegister = Object.keys(res).length === 0 && res.constructor === Object;\n    }, err => console.log(err));\n  }\n\n  onSignin(f: NgForm) {\n    const value = f.value;\n    if (this.isRegister) {\n      this.authService.registerSuperAdmin(value).subscribe(res => {\n        this.sessionStorage.setItem('token', res.access_token);\n        this.router.navigate(['/manage/user/staff'], { relativeTo: this.activedRoute });\n      }, err => {\n        console.log(err);\n      });\n    } else {\n      this.authService.login(value).subscribe(res => {\n        console.log(res);\n        this.sessionStorage.setItem('token', res.access_token);\n        this.router.navigate(['/manage/user/staff'], { relativeTo: this.activedRoute });\n      }, err => {\n        console.log(err);\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// D:/Working/home prj/ehelp/admin/ehelp-app/src/app/auth/signin/signin.component.ts"],"sourceRoot":"webpack:///"}